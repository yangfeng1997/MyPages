{"version":3,"file":"HeroInfo.js","sourceRoot":"","sources":["../../../src/client/components/HeroInfo.ts"],"names":[],"mappings":"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","sourcesContent":["import { isString } from \"@vuepress/helper/client\";\nimport type { SlotsType, VNode } from \"vue\";\nimport { computed, defineComponent, h } from \"vue\";\nimport {\n  usePageFrontmatter,\n  useSiteLocaleData,\n  withBase,\n} from \"vuepress/client\";\n\nimport AutoLink from \"@theme-hope/components/AutoLink\";\nimport { HeroSlideDownButton } from \"@theme-hope/components/HeroSlideDownButton\";\nimport { DropTransition } from \"@theme-hope/components/transitions/index\";\n\nimport type { ThemeProjectHomePageFrontmatter } from \"../../shared/index.js\";\n\nimport \"../styles/hero-info.scss\";\n\nexport interface HeroInfoData {\n  text: string | null;\n  tagline: string | null;\n  style: string | Record<string, string> | null;\n  isFullScreen: boolean;\n}\n\nexport interface HeroImageData {\n  image: string | null;\n  imageDark: string | null;\n  imageStyle: string | Record<string, string> | undefined;\n  alt: string;\n}\n\nexport interface HeroBackgroundData {\n  image: string | null;\n  imageDark: string | null;\n  style: string | Record<string, string> | undefined;\n}\n\nexport default defineComponent({\n  name: \"HeroInfo\",\n\n  slots: Object as SlotsType<{\n    bg?: (props: HeroBackgroundData) => VNode[] | VNode | null;\n    logo?: (props: HeroImageData) => VNode[] | VNode | null;\n    info?: (props: HeroInfoData) => VNode[] | VNode | null;\n  }>,\n\n  setup(_props, { slots }) {\n    const frontmatter = usePageFrontmatter<ThemeProjectHomePageFrontmatter>();\n    const siteLocale = useSiteLocaleData();\n\n    const info = computed<HeroInfoData>(() => {\n      const {\n        heroText,\n        tagline,\n        heroStyle,\n        heroFullScreen = false,\n      } = frontmatter.value;\n\n      return {\n        text: heroText ?? (siteLocale.value.title || \"Hello\"),\n        tagline: tagline ?? siteLocale.value.description,\n        style: heroStyle ?? null,\n        isFullScreen: heroFullScreen,\n      };\n    });\n\n    const image = computed<HeroImageData>(() => {\n      const { heroImage, heroImageDark, heroAlt, heroImageStyle } =\n        frontmatter.value;\n\n      return {\n        image: heroImage ? withBase(heroImage) : null,\n        imageDark: heroImageDark ? withBase(heroImageDark) : null,\n        imageStyle: heroImageStyle,\n        alt: heroAlt ?? \"\",\n      };\n    });\n\n    const bg = computed<HeroBackgroundData>(() => {\n      const { bgImage, bgImageDark, bgImageStyle } = frontmatter.value;\n\n      return {\n        image: isString(bgImage) ? withBase(bgImage) : null,\n        imageDark: isString(bgImageDark) ? withBase(bgImageDark) : null,\n        style: bgImageStyle,\n      };\n    });\n\n    const actions = computed(() => frontmatter.value.actions ?? []);\n\n    return (): VNode => {\n      return h(\n        \"header\",\n        {\n          class: [\n            \"vp-hero-info-wrapper\",\n            { \"hero-fullscreen\": info.value.isFullScreen },\n          ],\n          style: info.value.style,\n        },\n        [\n          slots.bg?.(bg.value) ?? [\n            bg.value.image\n              ? h(\"div\", {\n                  class: [\"vp-hero-mask\", { light: bg.value.imageDark }],\n                  style: [\n                    { \"background-image\": `url(${bg.value.image})` },\n                    bg.value.style,\n                  ],\n                })\n              : null,\n            bg.value.imageDark\n              ? h(\"div\", {\n                  class: \"vp-hero-mask dark\",\n                  style: [\n                    {\n                      \"background-image\": `url(${bg.value.imageDark})`,\n                    },\n                    bg.value.style,\n                  ],\n                })\n              : null,\n          ],\n\n          h(\"div\", { class: \"vp-hero-info\" }, [\n            slots.logo?.(image.value) ??\n              h(DropTransition, { appear: true, group: true }, () => {\n                const {\n                  image: imageLight,\n                  imageDark,\n                  imageStyle,\n                  alt,\n                } = image.value;\n\n                return [\n                  imageLight\n                    ? h(\"img\", {\n                        key: \"light\",\n                        class: [\"vp-hero-image\", { light: imageDark }],\n                        style: imageStyle,\n                        src: imageLight,\n                        alt: alt,\n                      })\n                    : null,\n                  imageDark\n                    ? h(\"img\", {\n                        key: \"dark\",\n                        class: \"vp-hero-image dark\",\n                        style: imageStyle,\n                        src: imageDark,\n                        alt: alt,\n                      })\n                    : null,\n                ];\n              }),\n            slots.info?.(info.value) ??\n              h(\"div\", { class: \"vp-hero-infos\" }, [\n                info.value.text\n                  ? h(DropTransition, { appear: true, delay: 0.04 }, () =>\n                      h(\n                        \"h1\",\n                        { id: \"main-title\", class: \"vp-hero-title\" },\n                        info.value.text!,\n                      ),\n                    )\n                  : null,\n                info.value.tagline\n                  ? h(DropTransition, { appear: true, delay: 0.08 }, () =>\n                      h(\"p\", {\n                        id: \"main-description\",\n                        innerHTML: info.value.tagline,\n                      }),\n                    )\n                  : null,\n                actions.value.length\n                  ? h(DropTransition, { appear: true, delay: 0.12 }, () =>\n                      h(\n                        \"p\",\n                        { class: \"vp-hero-actions\" },\n                        actions.value.map((action) =>\n                          h(AutoLink, {\n                            class: [\n                              \"vp-hero-action\",\n                              action.type ?? \"default\",\n                              \"no-external-link-icon\",\n                            ],\n                            config: action,\n                          }),\n                        ),\n                      ),\n                    )\n                  : null,\n              ]),\n          ]),\n\n          info.value.isFullScreen\n            ? h(HeroSlideDownButton, {\n                onClick: () =>\n                  window.scrollTo({\n                    top:\n                      window.innerHeight -\n                      (document.querySelector(\"[vp-navbar]\")?.clientHeight ??\n                        0),\n                    behavior: \"smooth\",\n                  }),\n              })\n            : null,\n        ],\n      );\n    };\n  },\n});\n"]}