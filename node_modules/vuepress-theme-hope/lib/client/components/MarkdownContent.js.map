{"version":3,"file":"MarkdownContent.js","sourceRoot":"","sources":["../../../src/client/components/MarkdownContent.ts"],"names":[],"mappings":"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","sourcesContent":["import { hasGlobalComponent, isNumber } from \"@vuepress/helper/client\";\nimport { useElementHover, watchImmediate } from \"@vueuse/core\";\nimport type { SlotsType, VNode } from \"vue\";\nimport {\n  computed,\n  defineComponent,\n  h,\n  onMounted,\n  ref,\n  resolveComponent,\n} from \"vue\";\nimport { Content, usePageFrontmatter } from \"vuepress/client\";\n\nimport {\n  useThemeData,\n  useThemeLocaleData,\n} from \"@theme-hope/composables/index\";\n\nimport type { ThemeNormalPageFrontmatter } from \"../../shared/index.js\";\n\nimport \"../styles/markdown-content.scss\";\n\nexport default defineComponent({\n  name: \"MarkdownContent\",\n\n  props: {\n    /** whether use customized layout */\n    custom: Boolean,\n  },\n\n  slots: Object as SlotsType<{\n    before?: () => VNode[] | VNode | null;\n    after?: () => VNode[] | VNode | null;\n  }>,\n\n  setup(props, { slots }) {\n    const frontmatter = usePageFrontmatter<ThemeNormalPageFrontmatter>();\n    const theme = useThemeData();\n    const themeLocale = useThemeLocaleData();\n\n    const contentElement = ref<HTMLElement>();\n\n    const isHovered = useElementHover(contentElement, {\n      delayEnter: isNumber(theme.value.focus) ? theme.value.focus : 1500,\n      delayLeave: 0,\n    });\n\n    const enableFocus = computed(\n      () => Boolean(theme.value.focus ?? theme.value.pure) && isHovered.value,\n    );\n\n    const showChangelog = computed(\n      () =>\n        frontmatter.value.changelog ??\n        ((themeLocale.value.changelog ?? false) && !frontmatter.value.home),\n    );\n\n    const showContributors = computed(\n      () =>\n        frontmatter.value.contributors ??\n        ((themeLocale.value.contributors ?? true) && !frontmatter.value.home),\n    );\n\n    onMounted(() => {\n      const html = document.documentElement;\n\n      watchImmediate(enableFocus, (value) => {\n        if (value) {\n          html.classList.add(\"is-focusing\");\n        } else {\n          html.classList.remove(\"is-focusing\");\n        }\n      });\n    });\n\n    return (): VNode =>\n      h(\"div\", { class: { custom: props.custom }, \"vp-content\": \"\" }, [\n        slots.before?.(),\n        h(Content, {\n          ref: contentElement,\n          id: \"markdown-content\",\n        }),\n        slots.after?.(),\n        showChangelog.value && hasGlobalComponent(\"GitChangelog\")\n          ? h(resolveComponent(\"GitChangelog\"))\n          : null,\n        showContributors.value && hasGlobalComponent(\"GitContributors\")\n          ? h(resolveComponent(\"GitContributors\"))\n          : null,\n      ]);\n  },\n});\n"]}