{"version":3,"file":"NormalPage.js","sourceRoot":"","sources":["../../../src/client/components/NormalPage.ts"],"names":[],"mappings":"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","sourcesContent":["import type { GetHeadersOptions } from \"@vuepress/helper/client\";\nimport {\n  RenderDefault,\n  hasGlobalComponent,\n  isPlainObject,\n} from \"@vuepress/helper/client\";\nimport type { ComponentOptions, SlotsType, VNode } from \"vue\";\nimport { computed, defineComponent, h, resolveComponent } from \"vue\";\nimport { usePageFrontmatter, withBase } from \"vuepress/client\";\n\nimport BreadCrumb from \"@theme-hope/components/BreadCrumb\";\nimport MarkdownContent from \"@theme-hope/components/MarkdownContent\";\nimport PageNav from \"@theme-hope/components/PageNav\";\nimport PageTitle from \"@theme-hope/components/PageTitle\";\nimport { useThemeLocaleData } from \"@theme-hope/composables/index\";\nimport PageMeta from \"@theme-hope/modules/info/components/PageMeta\";\nimport TOC from \"@theme-hope/modules/info/components/TOC\";\nimport { useDarkMode } from \"@theme-hope/modules/outlook/composables/index\";\n\nimport type { ThemeNormalPageFrontmatter } from \"../../shared/index.js\";\n\nimport \"../styles/normal-page.scss\";\n\nconst DEFAULT_TOC_OPTIONS: GetHeadersOptions = {\n  selector: [\n    ...Array.from({ length: 6 }).map((_, i) => `#markdown-content > h${i + 1}`),\n    \"[vp-content] > h2\",\n  ].join(\", \"),\n  levels: \"deep\",\n  ignore: [\".vp-badge\", \".vp-icon\"],\n};\n\nexport default defineComponent({\n  name: \"NormalPage\",\n\n  slots: Object as SlotsType<{\n    top?: () => VNode[] | VNode | null;\n    bottom?: () => VNode[] | VNode | null;\n\n    contentBefore?: () => VNode[] | VNode | null;\n    contentAfter?: () => VNode[] | VNode | null;\n\n    tocBefore?: () => VNode[] | VNode | null;\n    tocAfter?: () => VNode[] | VNode | null;\n  }>,\n\n  setup(_props, { slots }) {\n    const frontmatter = usePageFrontmatter<ThemeNormalPageFrontmatter>();\n    const { isDarkMode } = useDarkMode();\n    const themeLocale = useThemeLocaleData();\n\n    const tocOptions = computed(() => {\n      const config = frontmatter.value.toc ?? themeLocale.value.toc;\n\n      if (isPlainObject(config)) {\n        return { ...DEFAULT_TOC_OPTIONS, ...config };\n      }\n\n      return (config ?? true) ? DEFAULT_TOC_OPTIONS : null;\n    });\n\n    return (): VNode =>\n      h(\n        \"main\",\n        { id: \"main-content\", class: \"vp-page\" },\n        h(\n          hasGlobalComponent(\"LocalEncrypt\")\n            ? (resolveComponent(\"LocalEncrypt\") as ComponentOptions)\n            : RenderDefault,\n          () => [\n            slots.top?.(),\n            frontmatter.value.cover\n              ? h(\n                  \"div\",\n                  { class: \"page-cover\" },\n                  h(\"img\", {\n                    src: withBase(frontmatter.value.cover),\n                    alt: \"\",\n                    \"no-view\": \"\",\n                  }),\n                )\n              : null,\n            h(BreadCrumb),\n            h(PageTitle),\n            tocOptions.value\n              ? h(\n                  TOC,\n                  { options: tocOptions.value },\n                  {\n                    before: slots.tocBefore,\n                    after: slots.tocAfter,\n                  },\n                )\n              : null,\n            h(\n              MarkdownContent,\n              {},\n              {\n                before: slots.contentBefore,\n                after: slots.contentAfter,\n              },\n            ),\n            h(PageMeta),\n            h(PageNav),\n            hasGlobalComponent(\"CommentService\")\n              ? h(resolveComponent(\"CommentService\"), {\n                  darkmode: isDarkMode.value,\n                })\n              : null,\n            slots.bottom?.(),\n          ],\n        ),\n      );\n  },\n});\n"]}