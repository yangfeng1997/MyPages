{"version":3,"file":"index.js","sources":["../../../src/client/layouts/SlidePage.ts"],"sourcesContent":["import { onClickOutside } from '@vueuse/core'\nimport type { VNode } from 'vue'\nimport { defineComponent, h, ref, shallowRef } from 'vue'\nimport { Content, useRouteLocale, useRouter } from 'vuepress/client'\n\nimport '../styles/slide-page.css'\n\nconst BACK_SVG =\n  '<svg xmlns=\"http://www.w3.org/2000/svg\" class=\"back-icon\" viewBox=\"0 0 1024 1024\" fill=\"currentColor\"><path d=\"M1014.749 449.156v125.688H260.626l345.64 345.64-89.239 89.237L19.307 512l497.72-497.721 89.238 89.238-345.64 345.64h754.124z\"></path></svg>'\nconst HOME_SVG =\n  '<svg xmlns=\"http://www.w3.org/2000/svg\" class=\"icon home-icon\" viewBox=\"0 0 1024 1024\" fill=\"currentColor\"><path d=\"M780.106 420.978L506.994 147.866 233.882 420.978h.045v455.11H780.06v-455.11h.046zm90.977 90.976V876.09a91.022 91.022 0 01-91.023 91.022H233.927a91.022 91.022 0 01-91.022-91.022V511.954l-67.22 67.175-64.307-64.307 431.309-431.31c35.498-35.498 93.115-35.498 128.614 0l431.309 431.31-64.307 64.307L871.083 512z\"></path></svg>'\n\nexport const SlidePage = defineComponent({\n  name: 'SlidePage',\n\n  setup() {\n    const router = useRouter()\n    const routeLocale = useRouteLocale()\n    const showMenu = ref(false)\n\n    const menu = shallowRef<HTMLElement>()\n\n    const toggle = (): void => {\n      showMenu.value = !showMenu.value\n    }\n\n    const closeMenu = (): void => {\n      showMenu.value = false\n    }\n\n    const back = (): void => {\n      closeMenu()\n      window.history.go(-1)\n    }\n\n    const home = (): void => {\n      closeMenu()\n      void router.push(routeLocale.value)\n    }\n\n    onClickOutside(menu, closeMenu)\n\n    return (): VNode =>\n      h('div', { class: 'vp-reveal-page' }, [\n        h(Content),\n        h(\n          'div',\n          { ref: menu, class: ['vp-reveal-menu', { active: showMenu.value }] },\n          [\n            h(\n              'button',\n              {\n                type: 'button',\n                class: 'menu-button',\n                onClick: () => {\n                  toggle()\n                },\n              },\n              h('span', { class: 'icon' }),\n            ),\n            h('button', {\n              type: 'button',\n              class: 'back-button',\n              onClick: () => {\n                back()\n              },\n              innerHTML: BACK_SVG,\n            }),\n            h('button', {\n              type: 'button',\n              class: 'home-button',\n              onClick: () => {\n                home()\n              },\n              innerHTML: HOME_SVG,\n            }),\n          ],\n        ),\n      ])\n  },\n})\n"],"names":["BACK_SVG","HOME_SVG","SlidePage","defineComponent","router","useRouter","routeLocale","useRouteLocale","showMenu","ref","menu","shallowRef","toggle","closeMenu","back","home","onClickOutside","h","Content"],"mappings":"kOAOA,MAAMA,EACJ,6PACIC,EACJ,ybAEWC,EAAYC,EAAgB,CACvC,KAAM,YAEN,OAAQ,CACN,MAAMC,EAASC,EACTC,EAAAA,EAAcC,EACdC,EAAAA,EAAWC,EAAI,EAAK,EAEpBC,EAAOC,IAEPC,EAAS,IAAY,CACzBJ,EAAS,MAAQ,CAACA,EAAS,KAC7B,EAEMK,EAAY,IAAY,CAC5BL,EAAS,MAAQ,EACnB,EAEMM,EAAO,IAAY,CACvBD,IACA,OAAO,QAAQ,GAAG,EAAE,CACtB,EAEME,EAAO,IAAY,CACvBF,IACKT,EAAO,KAAKE,EAAY,KAAK,CACpC,EAEA,OAAAU,EAAeN,EAAMG,CAAS,EAEvB,IACLI,EAAE,MAAO,CAAE,MAAO,gBAAiB,EAAG,CACpCA,EAAEC,CAAO,EACTD,EACE,MACA,CAAE,IAAKP,EAAM,MAAO,CAAC,iBAAkB,CAAE,OAAQF,EAAS,KAAM,CAAC,CAAE,EACnE,CACES,EACE,SACA,CACE,KAAM,SACN,MAAO,cACP,QAAS,IAAM,CACbL,GACF,CACF,EACAK,EAAE,OAAQ,CAAE,MAAO,MAAO,CAAC,CAC7B,EACAA,EAAE,SAAU,CACV,KAAM,SACN,MAAO,cACP,QAAS,IAAM,CACbH,EACF,CAAA,EACA,UAAWd,CACb,CAAC,EACDiB,EAAE,SAAU,CACV,KAAM,SACN,MAAO,cACP,QAAS,IAAM,CACbF,EAAK,CACP,EACA,UAAWd,CACb,CAAC,CACH,CACF,CACF,CAAC,CACL,CACF,CAAC"}