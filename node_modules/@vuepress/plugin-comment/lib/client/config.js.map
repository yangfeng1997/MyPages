{"version":3,"file":"config.js","sources":["../../src/client/components/CommentService.ts","../../src/client/config.ts"],"sourcesContent":["import CommentProvider from '@vuepress/plugin-comment/service'\nimport type { VNode } from 'vue'\nimport { computed, defineComponent, h } from 'vue'\nimport { usePageData, usePageFrontmatter } from 'vuepress/client'\nimport type { CommentPluginFrontmatter } from '../../shared/index.js'\nimport { useCommentOptions } from '../helpers/index.js'\n\nexport default defineComponent({\n  name: 'CommentService',\n\n  props: {\n    /**\n     * The identifier of the comment\n     *\n     * 评论标识符\n     */\n    identifier: String,\n\n    /**\n     * Whether the component is in darkmode\n     *\n     * 组件是否处于夜间模式\n     */\n    darkmode: Boolean,\n  },\n\n  setup(props) {\n    const commentOptions = useCommentOptions()\n    const page = usePageData()\n    const frontmatter = usePageFrontmatter<CommentPluginFrontmatter>()\n\n    const enabled = computed(\n      () => frontmatter.value.comment ?? commentOptions.value.comment ?? true,\n    )\n\n    return (): VNode | null =>\n      h(CommentProvider, {\n        'class': 'vp-comment',\n        'vp-comment': '',\n        'identifier':\n          props.identifier ?? frontmatter.value.commentID ?? page.value.path,\n        'darkmode': props.darkmode,\n        'style': { display: enabled.value ? 'block' : 'none' },\n      })\n  },\n})\n","import { defineClientConfig } from 'vuepress/client'\nimport CommentService from './components/CommentService.js'\nimport { injectCommentConfig } from './helpers/index.js'\n\nimport './styles/base.css'\n\nexport default defineClientConfig({\n  enhance: ({ app }) => {\n    injectCommentConfig(app)\n    app.component('CommentService', CommentService)\n  },\n})\n"],"names":["defineComponent","props","commentOptions","useCommentOptions","page","usePageData","frontmatter","usePageFrontmatter","enabled","computed","h","CommentProvider","config","defineClientConfig","app","injectCommentConfig","CommentService"],"mappings":"uUAOA,IAAeA,EAAAA,EAAgB,CAC7B,KAAM,iBAEN,MAAO,CAML,WAAY,OAOZ,SAAU,OACZ,EAEA,MAAMC,EAAO,CACX,MAAMC,EAAiBC,IACjBC,EAAOC,IACPC,EAAcC,EAAAA,EAEdC,EAAUC,EACd,IAAMH,EAAY,MAAM,SAAWJ,EAAe,MAAM,SAAW,EACrE,EAEA,MAAO,IACLQ,EAAEC,EAAiB,CACjB,MAAS,aACT,aAAc,GACd,WACEV,EAAM,YAAcK,EAAY,MAAM,WAAaF,EAAK,MAAM,KAChE,SAAYH,EAAM,SAClB,MAAS,CAAE,QAASO,EAAQ,MAAQ,QAAU,MAAO,CACvD,CAAC,CACL,CACF,CAAC,ECvCDI,EAAeC,EAAmB,CAChC,QAAS,CAAC,CAAE,IAAAC,CAAI,IAAM,CACpBC,EAAoBD,CAAG,EACvBA,EAAI,UAAU,iBAAkBE,CAAc,CAChD,CACF,CAAC"}